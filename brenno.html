<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Probabilidade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212;
            color: #E0E0E0;
        }
        .quiz-container {
            background-color: #1E1E1E;
            border: 1px solid #333;
        }
        .btn {
            border: 1px solid #555;
            transition: all 0.2s ease-in-out;
        }
        .btn:hover {
            background-color: #333;
            color: #fff;
        }
        .btn-option.selected {
            background-color: #4A90E2;
            border-color: #4A90E2;
            color: #fff;
        }
        .btn-option.correct {
            background-color: #4CAF50;
            border-color: #4CAF50;
            color: #fff;
        }
        .btn-option.incorrect {
            background-color: #F44336;
            border-color: #F44336;
            color: #fff;
        }
        .btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        #results-screen h2 {
            font-size: 2.5rem;
            font-weight: bold;
        }
        #results-screen p {
            font-size: 1.25rem;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <div id="quiz-app" class="quiz-container w-full max-w-2xl mx-4 p-6 sm:p-8 rounded-lg shadow-lg">

        <!-- Tela de Início -->
        <div id="start-screen">
            <h1 class="text-3xl font-bold text-center mb-2">Quiz de Probabilidade</h1>
            <p class="text-center text-gray-400 mb-8">Selecione o número de perguntas para começar.</p>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <button onclick="startQuiz(5)" class="btn py-3 px-6 rounded-lg text-lg">5 Perguntas</button>
                <button onclick="startQuiz(10)" class="btn py-3 px-6 rounded-lg text-lg">10 Perguntas</button>
                <button onclick="startQuiz(15)" class="btn py-3 px-6 rounded-lg text-lg">15 Perguntas</button>
            </div>
        </div>

        <!-- Tela do Quiz -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <h2 id="question-counter" class="text-lg font-semibold"></h2>
                <div id="score-display" class="text-lg font-semibold">Pontos: 0</div>
            </div>
            <p id="question-text" class="text-xl mb-6 min-h-[6rem]"></p>
            <div id="answer-options" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <!-- Opções de resposta serão inseridas aqui -->
            </div>
            <div id="explanation-container" class="hidden mt-4 p-4 rounded-lg border">
                <p id="explanation-text"></p>
            </div>
            <div class="flex justify-end mt-4">
                <button id="next-btn" class="btn py-2 px-8 rounded-lg" disabled>Próxima</button>
            </div>
        </div>

        <!-- Tela de Resultados -->
        <div id="results-screen" class="hidden text-center">
            <h2 class="mb-4 text-white">Quiz Finalizado!</h2>
            <p id="final-score" class="mb-2 text-gray-300"></p>
            <p id="final-message" class="mb-8 text-gray-400"></p>
            <button onclick="restartQuiz()" class="btn py-3 px-8 rounded-lg text-lg">Jogar Novamente</button>
        </div>

    </div>

    <script>
        // --- Banco de Perguntas ---
        const allQuestions = [
            { question: "Qual é a probabilidade de obter um número ímpar ao lançar um dado de seis faces?", answers: ["1/2", "1/3", "1/6", "2/3"], correct: 0, explanation: "Um dado de seis faces tem 3 números ímpares (1, 3, 5) e 6 resultados possíveis. A probabilidade é o número de resultados favoráveis dividido pelo total de resultados: 3/6 = 1/2." },
            { question: "Ao lançar uma moeda, qual é a probabilidade de cair 'coroa'?", answers: ["50%", "25%", "75%", "100%"], correct: 0, explanation: "Uma moeda tem dois lados (cara e coroa). Há 1 chance de cair 'coroa' em 2 resultados possíveis, portanto a probabilidade é de 1/2 ou 50%." },
            { question: "Um baralho tem 52 cartas. Qual a probabilidade de tirar um 'Ás'?", answers: ["1/13", "1/52", "4/13", "1/4"], correct: 0, explanation: "Um baralho padrão tem 4 Ases e 52 cartas no total. A probabilidade de tirar um Ás é de 4/52, que pode ser simplificado para 1/13." },
            { question: "Em um saco com 5 bolas vermelhas e 3 azuis, qual a probabilidade de tirar uma bola azul?", answers: ["3/8", "3/5", "5/8", "1/3"], correct: 0, explanation: "O número total de bolas é 8 (5 vermelhas + 3 azuis). A probabilidade de tirar uma bola azul é o número de bolas azuis dividido pelo total de bolas: 3/8." },
            { question: "Qual é a probabilidade de um evento impossível ocorrer?", answers: ["0", "1", "-1", "100"], correct: 0, explanation: "Um evento impossível, por definição, não tem chance de acontecer. Portanto, sua probabilidade é sempre 0." },
            { question: "Se a probabilidade de chover amanhã é de 40%, qual é a probabilidade de não chover?", answers: ["60%", "40%", "0%", "100%"], correct: 0, explanation: "A soma das probabilidades de um evento ocorrer e de não ocorrer é sempre 100%. Se a chance de chover é 40%, a chance de não chover é 100% - 40% = 60%." },
            { question: "Ao lançar dois dados, qual é a soma mais provável de aparecer?", answers: ["7", "6", "8", "12"], correct: 0, explanation: "Ao lançar dois dados, a soma 7 pode ser obtida de mais maneiras (6 combinações) do que qualquer outra soma, tornando-a o resultado mais provável." },
            { question: "Um conjunto de todos os resultados possíveis de um experimento é chamado de:", answers: ["Espaço Amostral", "Evento", "Amostra", "População"], correct: 0, explanation: "O espaço amostral é o termo técnico em probabilidade para descrever o conjunto completo de todos os resultados que podem ocorrer em um experimento aleatório." },
            { question: "Dois eventos são ________ se a ocorrência de um não afeta a ocorrência do outro.", answers: ["Independentes", "Dependentes", "Mutuamente Exclusivos", "Coletivamente Exaustivos"], correct: 0, explanation: "Eventos independentes são aqueles em que o resultado de um não influencia o resultado do outro, como lançar uma moeda duas vezes seguidas." },
            { question: "Em uma turma de 30 alunos, 18 são meninas. Qual a probabilidade de um aluno sorteado ser um menino?", answers: ["2/5", "3/5", "1/2", "1/3"], correct: 0, explanation: "Se há 30 alunos e 18 são meninas, então há 12 meninos (30 - 18). A probabilidade de sortear um menino é 12/30, que simplificando a fração resulta em 2/5." },
            { question: "Qual a probabilidade de tirar um 'Rei' ou uma 'Dama' de um baralho de 52 cartas?", answers: ["2/13", "1/13", "1/26", "4/13"], correct: 0, explanation: "Há 4 Reis e 4 Damas em um baralho, totalizando 8 cartas favoráveis. A probabilidade é 8/52, que pode ser simplificada para 2/13." },
            { question: "Ao lançar uma moeda 3 vezes, qual a probabilidade de obter 3 'caras'?", answers: ["1/8", "1/3", "3/8", "1/2"], correct: 0, explanation: "Cada lançamento de moeda é um evento independente com probabilidade 1/2. Para obter 3 caras seguidas, multiplicamos as probabilidades: (1/2) * (1/2) * (1/2) = 1/8." },
            { question: "Um número de 1 a 20 é escolhido aleatoriamente. Qual a probabilidade de ser um número primo?", answers: ["2/5", "9/20", "1/2", "7/20"], correct: 0, explanation: "Os números primos entre 1 e 20 são: 2, 3, 5, 7, 11, 13, 17 e 19 (um total de 8 números). Com 20 números no total, a probabilidade é 8/20, que simplifica para 2/5." },
            { question: "Qual é a probabilidade de um evento certo ocorrer?", answers: ["1", "0", "50", "Infinito"], correct: 0, explanation: "Um evento certo é aquele que acontecerá com toda a certeza. Sua probabilidade é sempre 1 (ou 100%)." },
            { question: "Uma urna contém 10 bolas idênticas numeradas de 1 a 10. Qual a probabilidade de sortear uma bola com número maior que 7?", answers: ["3/10", "7/10", "1/10", "1/3"], correct: 0, explanation: "Os números maiores que 7 no conjunto de 1 a 10 são 8, 9 e 10. São 3 resultados favoráveis em um total de 10 bolas, portanto a probabilidade é 3/10." }
        ];

        // --- Variáveis de Estado do Jogo ---
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;

        // --- Elementos do DOM ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const questionText = document.getElementById('question-text');
        const answerOptionsContainer = document.getElementById('answer-options');
        const questionCounter = document.getElementById('question-counter');
        const scoreDisplay = document.getElementById('score-display');
        const nextBtn = document.getElementById('next-btn');
        const explanationContainer = document.getElementById('explanation-container');
        const explanationText = document.getElementById('explanation-text');

        // --- Funções do Jogo ---

        /**
         * Inicia o quiz com o número de perguntas selecionado.
         * @param {number} numQuestions - Número de perguntas (5, 10 ou 15).
         */
        function startQuiz(numQuestions) {
            const shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
            currentQuestions = shuffled.slice(0, numQuestions);
            
            currentQuestionIndex = 0;
            score = 0;
            
            startScreen.classList.add('hidden');
            resultsScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            scoreDisplay.textContent = `Pontos: 0`;
            
            displayQuestion();
        }

        /**
         * Exibe a pergunta atual e as opções de resposta.
         */
        function displayQuestion() {
            resetState();
            if (currentQuestionIndex < currentQuestions.length) {
                const question = currentQuestions[currentQuestionIndex];
                questionText.textContent = question.question;
                questionCounter.textContent = `Pergunta ${currentQuestionIndex + 1} de ${currentQuestions.length}`;
                
                const shuffledAnswers = question.answers
                    .map((answer, index) => ({ text: answer, originalIndex: index }))
                    .sort(() => Math.random() - 0.5);

                shuffledAnswers.forEach(answer => {
                    const button = document.createElement('button');
                    button.textContent = answer.text;
                    button.classList.add('btn', 'btn-option', 'p-4', 'rounded-lg', 'text-left');
                    button.dataset.originalIndex = answer.originalIndex;
                    button.addEventListener('click', selectAnswer);
                    answerOptionsContainer.appendChild(button);
                });
            } else {
                showResults();
            }
        }

        /**
         * Reseta o estado para a próxima pergunta.
         */
        function resetState() {
            selectedAnswer = null;
            nextBtn.disabled = true;
            explanationContainer.classList.add('hidden');
            while (answerOptionsContainer.firstChild) {
                answerOptionsContainer.removeChild(answerOptionsContainer.firstChild);
            }
        }

        /**
         * Lida com a seleção de uma resposta pelo usuário.
         * @param {Event} e - O evento de clique.
         */
        function selectAnswer(e) {
            if (selectedAnswer !== null) return;

            selectedAnswer = e.target;
            const buttons = answerOptionsContainer.querySelectorAll('.btn-option');
            const question = currentQuestions[currentQuestionIndex];
            const correctIndex = question.correct;
            const selectedIndex = parseInt(selectedAnswer.dataset.originalIndex);

            buttons.forEach(button => {
                button.disabled = true;
                if (parseInt(button.dataset.originalIndex) === correctIndex) {
                    button.classList.add('correct');
                }
            });

            explanationContainer.classList.remove('hidden');
            explanationText.textContent = question.explanation;

            if (selectedIndex === correctIndex) {
                score++;
                scoreDisplay.textContent = `Pontos: ${score}`;
                explanationContainer.className = 'mt-4 p-4 rounded-lg border border-green-500 bg-green-900 bg-opacity-20';
            } else {
                selectedAnswer.classList.add('incorrect');
                explanationContainer.className = 'mt-4 p-4 rounded-lg border border-red-500 bg-red-900 bg-opacity-20';
            }
            
            nextBtn.disabled = false;
        }

        /**
         * Exibe a tela de resultados finais.
         */
        function showResults() {
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');

            const scorePercent = (score / currentQuestions.length) * 100;
            document.getElementById('final-score').textContent = `Sua pontuação final foi ${score} de ${currentQuestions.length} (${scorePercent.toFixed(0)}%).`;
            
            let message = "";
            if (scorePercent === 100) {
                message = "Excelente! Você é um mestre da probabilidade!";
            } else if (scorePercent >= 70) {
                message = "Muito bem! Você tem um ótimo conhecimento sobre o assunto.";
            } else if (scorePercent >= 50) {
                message = "Bom trabalho! Continue praticando para melhorar.";
            } else {
                message = "Não desanime! Estudar um pouco mais fará toda a diferença.";
            }
            document.getElementById('final-message').textContent = message;
        }

        /**
         * Reinicia o quiz, voltando para a tela inicial.
         */
        function restartQuiz() {
            resultsScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        }

        // --- Event Listener ---
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            displayQuestion();
        });

    </script>
</body>
</html>

